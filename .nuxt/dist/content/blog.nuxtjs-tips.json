{
  "title": "Tips After Building a Site with Nuxt.js",
  "tags": [
    "vue",
    "nuxt"
  ],
  "meta": {
    "index": 18,
    "fileName": "2017-09-18-Nuxtjs-Tips.md",
    "section": "/blog",
    "dirName": "/"
  },
  "date": "2017-09-18",
  "path": "/blog/blog/nuxtjs-tips",
  "permalink": "/blog/nuxtjs-tips",
  "anchors": [
    [
      "#tip-1-learn-vuex",
      "Tip 1 - Learn Vuex"
    ],
    [
      "#tip-2-using-middleware-for-mobile-menus",
      "Tip 2 - Using Middleware for Mobile Menus"
    ],
    [
      "#tip-3-performance",
      "Tip 3 - Performance"
    ]
  ],
  "body": "<h1 id=\"tip-1-learn-vuex\">Tip 1 - Learn Vuex</h1>\n<p>I put off on learning Vuex for a long time, and used simpler ways of handling global state. When I took the time to understand Vuex though, it paid off greatly when working with Nuxt.js.</p>\n<hr>\n<h1 id=\"tip-2-using-middleware-for-mobile-menus\">Tip 2 - Using Middleware for Mobile Menus</h1>\n<p>When a link was clicked using the mobile menu, it would stay open instead of closing before transitioning routes. I wanted the menu to close on route change.</p>\n<p>A couple things needed to happen to accomplish this. (<em>Disclaimer: I am using Vuex for state management</em>)</p>\n<ol>\n<li>Use Vuex to keep track of my menu state.</li>\n</ol>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">state<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n menuIsActive<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nmutations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n <span class=\"token function\">toggleMenuState</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   state<span class=\"token punctuation\">.</span>menuIsActive <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>state<span class=\"token punctuation\">.</span>menuIsActive\n <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<ol start=\"2\">\n<li>Add a function to the <code>middleware</code> directory. It checks if the menu is active. If so, toggle that state (making it inactive).</li>\n</ol>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// This is `middleware/menu.js`</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>menuIsActive <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   store<span class=\"token punctuation\">.</span><span class=\"token function\">commit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'toggleMenuState'</span><span class=\"token punctuation\">)</span>\n <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<ol start=\"3\">\n<li>Register this middleware to run when the route changes by adding it inside <code>nuxt.config.js</code>. It is set to <code>menu</code> because our middleware file name is <code>menu.js</code>.</li>\n</ol>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">router<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\nmiddleware<span class=\"token punctuation\">:</span> <span class=\"token string\">'menu'</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<hr>\n<h1 id=\"tip-3-performance\">Tip 3 - Performance</h1>\n<p>I personally believe using the <a href=\"https://github.com/nuxt-community/modules/tree/master/modules/pwa\">PWA Module</a> is the easiest modification one can do for the biggest impact on his/her site. While customization is possible, it’s not required. All that’s needed to begin reaping the benefits is adding 1 line to the modules sections of <code>nuxt.config.js</code> like so:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// `nuxt.config.js`</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  modules<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'@nuxtjs/pwa'</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>Also, I wanted to use a Google font via CDN but received a performance warning when testing with <a href=\"https://developers.google.com/web/tools/lighthouse/\">Lighthouse</a>. I was able to eliminate the warning by preloading the font in <code>nuxt.config.js</code>.</p>\n<p><strong>Example:</strong></p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// `nuxt.config.js`</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  head<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    link<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span> rel<span class=\"token punctuation\">:</span> <span class=\"token string\">'preload'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">as</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'style'</span><span class=\"token punctuation\">,</span> href<span class=\"token punctuation\">:</span> <span class=\"token string\">'https://fonts.googleapis.com/css?family=Roboto'</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n"
}